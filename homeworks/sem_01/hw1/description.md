# Домашнее задание 1

## Задача 1. DAU, WAU, MAU

**Задача**

В коммерческой разработки существует большое количество различных метрик, позволяющих отслеживать активность пользователей. Одними из таких метрик являются метрики **Day Active Users** (DAU), **Week Active Users** (WAU) и **Month Active Users** (MAU) - число активных пользователей за определенный промежуток времени (день, неделю и месяц, соответственно). Под активными пользователями понимаются уникальные пользователи, которые пользовались нашим продуктом хотя бы один раз в обозначенный период времени. Важно, что пользователи являются уникальными. Т.е. если мы измеряем **DAU** и в течении текущего дня нашим приложеним пользовался один и тот же пользователь пусть и несколько раз, **DAU** будет равно 1.

Логика расчета метрик **DAU**, **WAU** и **MAU** совпадает, отличается лишь число дней, для которого происходит накопление уникальных пользователей. Обобщая эту логику еще сильнее, мы можем реализовать специальный объект, с помощью которого мы бы имели возможность подсчитывать число активных пользователей нашего продукта за произвольный промежуток времени. Ваша задача - реализовать такой объект.

В файле [`metrics.py`](./metrics.py) содержится заготовка класса `PeriodActiveUsers`. Именно этот класс мы будем использовать для расчета числа активных пользователей за определенный период времени. Приведем некоторые требования к функционалу класса:
- `Инициализация`. При создании экземпляра класса `PeriodActiveUsers` пользователю необходимо передать параметр `accumulation_period` - период времени, для которого будет вычисляться число уникальных пользователей. Ожидается, что `accumulation_period` будет целым числом, большим единицы, однако допустимо передавать любой объект, который может быть округлен и преобразован в целое число с помощью вызова встроенной функции `round()`. Если переданный объект несовместим с вызовом функции `round()`, необходимо возбудить исключение `TypeError`. Если после использования функции `round()` с переданным объектом было получено число, меньшее 1, необходимо возбудить исключение `ValueError`.
- `add_active_users_for_curr_day()`. С помощью этого метода вы можете передать последовательность `UUID` пользователей, которые пользовались сервисом в текущий день.
- `unique_users_amount`, атрибут, в котором хранится число уникальных пользовотелей, посещавших наш ресурс за последние `accumulation_period` дней. Иначе говоря, в атрибуте `unique_users_amount` хранится актуальное значение метрики.
- `accumulation_period`, атрибут, период времени, для которого будет вычисляться число уникальных пользователей.

**Примеры использования**

**Пример 1**
```python
from uuid import UUID
from metrics import PeriodActiveUsers


pau = PeriodActiveUsers(accumulation_period=1)
pau.add_active_users_for_curr_day(
    [
        UUID("2509a9eb-2422-4b83-8911-f780eea815bb"),
        UUID("f52fc9b2-2ff2-4419-9f07-22267946b46e"),
    ],
)
assert pau.unique_users_amount == 2
```

**Пример 2**
```python
from uuid import UUID
from metrics import PeriodActiveUsers


pau = PeriodActiveUsers(accumulation_period=3)
pau.add_active_users_for_curr_day(
    [
        UUID("52d6f353-4dd3-421b-b1c4-c35d2ae9ad66"),
        UUID("3f06aef7-bf3a-41f8-b571-3453a3b27aa9"),
        UUID("b6595baa-a23a-4e22-8656-079f84c7c3a4"),
        UUID("52d6f353-4dd3-421b-b1c4-c35d2ae9ad66"),
        UUID("52d6f353-4dd3-421b-b1c4-c35d2ae9ad66"),
        UUID("b6595baa-a23a-4e22-8656-079f84c7c3a4"),
    ],
)
assert pau.unique_users_amount == 3
```

**Вопросы для размышления**

- Почему мы используем именно класс для реализации данного функционала? Возможно ли сделать это иначе?
- Что является состоянием объекта для подсчета метрики?
